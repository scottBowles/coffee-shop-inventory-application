extends layout

block content
  if item
    h1= item.name
    if item.category
      p Category: #[a(href=item.category.url)= item.category.name]
    else
      p Category: (None)
    p Description: #{item.description}
    if !item.active
      p #[strong Archived]
    p Quantity in Stock: #{item.quantityInStock}

    if item.forSale
      p SKU: #{item.sku}
      p Price: #{item.price}
    else
      p [Not marked for sale]
    if item.active
      p Are you sure you want to archive this item?
    else
      p Are you sure you want to restore this item out of archive?

    form(method='POST' action='')
        div.form-group
          input#itemId.form-control(type='hidden',name='submitType', required='true', value=`${item.active ? "archive" : "restore"}` )
        
        div#password-group.form-group.hidden
          label(for="password") Enter Admin Password to Make Change
          input#password.form-control(type="password" name="password")

        button.btn.btn-primary(type='submit')= item.active ? "Archive" : "Restore"
  
  if errors
    ul
      for error in errors
        li!= error.msg
  
  script(src="/javascripts/form.js")